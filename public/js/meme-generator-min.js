let textTopInput,textBottomInput,textTopSizeInput,textBottomSizeInput,imageInput,generateBtn,memeCanvas,ctx;const setTextFontSize=e=>(ctx.font=e+"px Impact",ctx.lineWidth=e/20,ctx),setTextStyle=()=>(ctx.textAlign="center",ctx.strokeStyle="black",ctx.fillStyle="white",ctx),generateMeme=(e,t,n,m,a)=>{let o;memeCanvas.width=e.width,memeCanvas.height=e.height,ctx.clearRect(0,0,memeCanvas.width,memeCanvas.height),ctx.drawImage(e,0,0),setTextStyle(),o=memeCanvas.width*m,setTextFontSize(o),o=memeCanvas.width*a,setTextFontSize(o),ctx.textBaseline="top",t.split("\n").forEach((e,t)=>{ctx.fillText(e,memeCanvas.width/2,t*o,memeCanvas.width),ctx.strokeText(e,memeCanvas.width/2,t*o,memeCanvas.width)}),ctx.textBaseline="bottom",n.split("\n").reverse().forEach((e,t)=>{ctx.fillText(e,memeCanvas.width/2,memeCanvas.height-t*o,memeCanvas.width),ctx.strokeText(e,memeCanvas.width/2,memeCanvas.height-t*o,memeCanvas.width)})},init=()=>{textTopInput=document.getElementById("text-top"),textBottomInput=document.getElementById("text-bottom"),textTopSizeInput=document.getElementById("text-top-size-input"),textBottomSizeInput=document.getElementById("text-bottom-size-input"),fileInput=document.getElementById("file-input"),generateMemeBtn=document.getElementById("generate-meme-btn"),memeCanvas=document.getElementById("meme-canvas"),ctx=memeCanvas.getContext("2d"),memeCanvas.width=memeCanvas.height=0,generateMemeBtn.addEventListener("click",function(){const e=new FileReader;e.onload=(()=>{const t=new Image;t.src=e.result,generateMeme(t,textTopInput.value,textBottomInput.value,textTopSizeInput.value,textBottomSizeInput.value)}),e.readAsDataURL(fileInput.files[0])})};textTopInput=document.getElementById("text-top"),textBottomInput=document.getElementById("text-bottom"),textTopSizeInput=document.getElementById("text-top-size-input"),textBottomSizeInput=document.getElementById("text-bottom-size-input"),fileInput=document.getElementById("file-input"),generateMemeBtn=document.getElementById("generate-meme-btn"),memeCanvas=document.getElementById("meme-canvas"),ctx=memeCanvas.getContext("2d"),memeCanvas.width=memeCanvas.height=0,generateMemeBtn.addEventListener("click",function(){const e=new FileReader;e.onload=(()=>{const t=new Image;t.src=e.result,generateMeme(t,textTopInput.value,textBottomInput.value,textTopSizeInput.value,textBottomSizeInput.value)}),e.readAsDataURL(fileInput.files[0])});