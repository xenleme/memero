var textTopInput,textBottomInput,textSizeInput,imageInput,generateBtn,memeCanvas,ctx,downloadBtn,setTextFontSize=function(e){return ctx.font=e+"px Impact",ctx.lineWidth=e/20,ctx},setTextStyle=function(){return ctx.textAlign="center",ctx.strokeStyle="black",ctx.fillStyle="white",ctx},downloadMeme=function(e){var t=memeCanvas.toDataURL("image/jpg");e.href=t},generateMeme=function(e,t,n,a){var m;memeCanvas.width=e.width,memeCanvas.height=e.height,ctx.clearRect(0,0,memeCanvas.width,memeCanvas.height),ctx.drawImage(e,0,0),setTextStyle(),m=memeCanvas.width*a,setTextFontSize(m),ctx.textBaseline="top",t.split("\n").forEach(function(e,t){ctx.fillText(e,memeCanvas.width/2,t*m,memeCanvas.width),ctx.strokeText(e,memeCanvas.width/2,t*m,memeCanvas.width)}),ctx.textBaseline="bottom",n.split("\n").reverse().forEach(function(e,t){ctx.fillText(e,memeCanvas.width/2,memeCanvas.height-t*m,memeCanvas.width),ctx.strokeText(e,memeCanvas.width/2,memeCanvas.height-t*m,memeCanvas.width)})},init=function(){textTopInput=document.getElementById("text-top"),textBottomInput=document.getElementById("text-bottom"),textSizeInput=document.getElementById("text-size-input"),fileInput=document.getElementById("file-input"),generateMemeBtn=document.getElementById("generate-meme-btn"),memeCanvas=document.getElementById("meme-canvas"),downloadBtn=document.getElementById("download-btn"),ctx=memeCanvas.getContext("2d"),generateMemeBtn.addEventListener("click",function(){var e=new FileReader;e.onload=function(){var t=new Image;t.src=e.result,generateMeme(t,textTopInput.value,textBottomInput.value,textSizeInput.value),memeCanvas.width>"0"&&(downloadBtn.style.display="inline")},e.readAsDataURL(fileInput.files[0])})};init();