var textTopInput,textBottomInput,textTopSizeInput,textBottomSizeInput,imageInput,generateBtn,memeCanvas,ctx,setTextFontSize=function(t){return ctx.font=t+"px Impact",ctx.lineWidth=t/20,ctx},setTextStyle=function(){return ctx.textAlign="center",ctx.strokeStyle="black",ctx.fillStyle="white",ctx},generateMeme=function(t,e,n,m,a){var i;memeCanvas.width=t.width,memeCanvas.height=t.height,ctx.clearRect(0,0,memeCanvas.width,memeCanvas.height),ctx.drawImage(t,0,0),setTextStyle(),i=memeCanvas.width*m,setTextFontSize(i),i=memeCanvas.width*a,setTextFontSize(i),ctx.textBaseline="top",e.split("\n").forEach(function(t,e){ctx.fillText(t,memeCanvas.width/2,e*i,memeCanvas.width),ctx.strokeText(t,memeCanvas.width/2,e*i,memeCanvas.width)}),ctx.textBaseline="bottom",n.split("\n").reverse().forEach(function(t,e){ctx.fillText(t,memeCanvas.width/2,memeCanvas.height-e*i,memeCanvas.width),ctx.strokeText(t,memeCanvas.width/2,memeCanvas.height-e*i,memeCanvas.width)})},init=function(){textTopInput=document.getElementById("text-top"),textBottomInput=document.getElementById("text-bottom"),textTopSizeInput=document.getElementById("text-top-size-input"),textBottomSizeInput=document.getElementById("text-bottom-size-input"),fileInput=document.getElementById("file-input"),generateMemeBtn=document.getElementById("generate-meme-btn"),memeCanvas=document.getElementById("meme-canvas"),ctx=memeCanvas.getContext("2d"),memeCanvas.width=memeCanvas.height=0,generateMemeBtn.addEventListener("click",function(){var t=new FileReader;t.onload=function(){var e=new Image;e.src=t.result,generateMeme(e,textTopInput.value,textBottomInput.value,textTopSizeInput.value,textBottomSizeInput.value)},t.readAsDataURL(fileInput.files[0])})};init();